<?php
 defined("\x49\116\x5f\111\x41") or die("\x41\143\x63\x65\x73\x73\40\x44\145\x6e\151\x65\x64"); class Pz_guanhuaiModuleProcessor extends WeModuleProcessor { public $addressInfo = array(); public $fansInfo = array(); public $setting = array(); public $user_last_record = array(); public function respond() { goto P4kY0; WeL1a: $openid = $this->message["\146\162\157\155"]; goto mMmm9; P4kY0: global $_W, $_GPC; goto oJy1u; Jn_34: die(''); goto EH6Gw; oJy1u: $account_api = WeAccount::create(); goto SuMLm; SuMLm: $content = $this->message["\x63\157\156\164\x65\156\x74"]; goto WeL1a; mMmm9: $this->setting = $setting = $this->module["\x63\157\156\x66\151\147"]; goto Wz8T0; Wz8T0: $this->__getStartTipsText(); goto Jn_34; EH6Gw: } private function __getStartTipsText() { $html = $this->setting["\x74\145\170\x74"]["\150\x74\x6d\154"]; $this->__sendMessageText($html); } private function __sendMessage($message = array()) { foreach ($message as $k => $v) { goto EqOBm; Uykxb: oCr0A: goto lFiWU; y7jDJ: if ($WSwHn) { goto QyNpY; } goto fLLiL; EqOBm: $WSwHn = !($v["\x4d\163\x67\x54\171\160\145"] == "\x74\x65\170\x74"); goto y7jDJ; fLLiL: $this->__sendMessageText($v["\x43\157\156\x74\x65\156\164"]); goto vPkdv; vPkdv: QyNpY: goto Uykxb; lFiWU: } MqKeg: } private function __process($param) { goto d5Yo7; CDQGZ: if ($ZhX09) { goto fqHwJ; } goto YlE90; d5Yo7: global $_W; goto N0BDu; q3Fea: goto XPC9C; goto tgzNc; wa_aL: $processor->rule = $param["\x72\x69\x64"]; goto zqmRH; i_hgX: $processor->priority = intval($param["\144\x69\x73\160\154\x61\x79\x6f\162\x64\x65\x72"]); goto lR6_4; vy3xg: $ZhX09 = !empty($response); goto CDQGZ; N0BDu: if ($param["\155\x6f\144\x75\154\x65"] == "\162\x65\x70\154\x79") { goto gKhMZ; } goto FLD7D; C11Fu: fqHwJ: goto mDCu5; YlE90: return false; goto C11Fu; cj2wy: XPC9C: goto wa_aL; tgzNc: gKhMZ: goto KkzAp; lR6_4: $response = $processor->respond(); goto vy3xg; FLD7D: $processor = WeUtility::createModuleProcessor($param["\x6d\157\x64\x75\154\145"]); goto q3Fea; zqmRH: $processor->reply_type = $param["\x72\145\160\x6c\x79\x5f\164\x79\x70\x65"]; goto i_hgX; KkzAp: $processor = WeUtility::createModuleProcessor("\143\x6f\x72\145"); goto cj2wy; mDCu5: return $response; goto wJGnU; wJGnU: } private function __sendMessageText($string = '') { goto wJpjW; qpCoY: $string = html_entity_decode($string, ENT_QUOTES); goto eJapv; InW9e: $account_api = WeAccount::create(); goto NUCXG; wJpjW: $string = str_replace("\42", "\47", $string); goto qpCoY; xP5jE: var_dump($message, $status); goto gE57u; eJapv: $message = array("\155\x73\147\164\171\160\x65" => "\x74\145\170\164", "\x74\145\170\164" => array("\x63\157\x6e\x74\x65\156\164" => urlencode($string)), "\164\x6f\165\x73\145\162" => $this->message["\x66\x72\157\155"]); goto InW9e; NUCXG: $status = $account_api->sendCustomNotice($message); goto xP5jE; gE57u: } }